import g from 'javascript-obfuscator';

var u=/\.(js|jsx|ts|tsx|cjs|mjs)$/,a=/^(?!.*\.(spec|test)\.(ts|js)$).*\.(js|ts)$/,l={compact:!0,controlFlowFlattening:!0,controlFlowFlatteningThreshold:1,numbersToExpressions:!0,simplify:!0,stringArrayShuffle:!0,splitStrings:!0,stringArrayThreshold:1},r=e=>t=>e.test(t);var{obfuscate:x}=g;function m(e){let t=e?.includeRegEx??u,n=e?.includeRegEx??a,o=e?.options??l,s=!0;return {name:"vite-mahlzeit-obfuscator",enforce:"post",apply:"build",buildStart:()=>{t instanceof RegExp||(console.warn("includeRegEx must be a regular expression"),s=!1),n instanceof RegExp||(console.warn("excludeRegEx must be a regular expression"),s=!1);},transform:(p,i)=>{if(!s)return;let f=r(t),E=r(n);if(f(i)&&E(i)){let c=x(p,o);return {code:c.getObfuscatedCode(),...o.sourceMap&&o.sourceMapMode!=="inline"?{map:c.getSourceMap()}:{}}}}}}var h=m;

export { h as default };
